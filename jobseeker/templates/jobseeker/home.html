{% extends 'jobseeker/base.html' %}
{% load crispy_forms_tags %}

{% block title %} Job Home {% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <!-- Left Column (Blank) -->
    <div class="col-md-3">
      <h1>Your Resume</h1>
      <div class="card" style="max-height: 500px; overflow-y: auto;">
        <div class="card-body">
          {{ html_content|safe }}
        </div>
      </div>
    </div>

    <!-- Middle Column (User Profile) -->
    <div class="col-md-6">
      <h1>Job Seekers Platform</h1>
      <div class="card mb-4" style="max-height: 500px; overflow-y: auto;">
        <div class="card-body text-center">
          <!-- Styling for the profile image -->
          <img src="{{ avatar }}" alt="Profile Image" class="rounded-circle img-fluid mb-3" style="width: 150px; height: 150px;">
          <!-- Displaying username from the request -->
          <h2>{{ request.user.username }}</h2>
          <h3>User Information</h3>
          <p>Email: {{ userinfo.email }}</p>
          <p>Profession: {{userinfo.profession}}</p>
          <p>Interests: {{ userinfo.interests }}</p>
          <p>Work Location: {{ userinfo.location }}</p>
          <!-- Add more userinfo fields as needed -->
          <a href="{% url 'userinfo' %}" class="btn btn-primary">Edit Profile</a>
        </div>
      </div>
    </div>

    <!-- Right Column (Popular Jobs and Companies) -->
    <div class="col-md-3">
      <h2>Popular Jobs</h2>
      <div class="card mb-4" style="max-height: 230px; overflow-y: auto;">
        <div class="card-body">
          {%for job in alljobs%}
          <p>Job title: {{ job.job_title }}</p>
          {%endfor%}
        </div>
      </div>
      <h2>Popular Companies</h2>
      <div class="card" style="max-height: 230px; overflow-y: auto;">
        <div class="card-body">
          {%for job in alljobs%}
          <p>Company: {{ job.company }}</p>
          {%endfor%}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
